{"filter":false,"title":"views.py","tooltip":"/overtime/views.py","undoManager":{"mark":5,"position":5,"stack":[[{"start":{"row":508,"column":98},"end":{"row":509,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":509,"column":0},"end":{"row":509,"column":4},"action":"insert","lines":["    "]},{"start":{"row":509,"column":4},"end":{"row":510,"column":0},"action":"insert","lines":["",""]},{"start":{"row":510,"column":0},"end":{"row":510,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":510,"column":0},"end":{"row":510,"column":4},"action":"remove","lines":["    "],"id":3}],[{"start":{"row":510,"column":0},"end":{"row":524,"column":132},"action":"insert","lines":["@login_required()","def submit_st_availability(request):","    if request.method == \"POST\":","        short_term_availability_form = ShortTermAvailabilityForm(request.POST, request.FILES)","        st_availability_date = request.POST.get('st_availability_date')","        short_term_availability_form.fields['st_availability_date'].choices = [(st_availability_date, st_availability_date)]","        if short_term_availability_form.is_valid():","            short_term_availability_form.instance.st_availability_off_id = request.user","            short_term_availability_form.instance.st_availability_qtr_id = getQtrDateIn(short_term_availability_form.instance.st_availability_date)","            short_term_availability_submission = short_term_availability_form.save()","            messages.success(request, \"Short Term Availability successfully submitted.\")","            return redirect(availability_page)","    else:","        short_term_availability_form = ShortTermAvailabilityForm()","    return render(request, \"submit_st_availability_submission.html\", {'short_term_availability_form': short_term_availability_form})"],"id":4}],[{"start":{"row":5,"column":211},"end":{"row":5,"column":212},"action":"insert","lines":[","],"id":5}],[{"start":{"row":5,"column":212},"end":{"row":5,"column":213},"action":"insert","lines":[" "],"id":6}],[{"start":{"row":5,"column":213},"end":{"row":5,"column":238},"action":"insert","lines":["ShortTermAvailabilityForm"],"id":7}]]},"ace":{"folds":[],"scrolltop":6655,"scrollleft":0,"selection":{"start":{"row":5,"column":238},"end":{"row":5,"column":238},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1614947179396,"hash":"64e8c96a8c1e1421bac7a3127418cb463be665f0"}