{"filter":false,"title":"views.py","tooltip":"/exchanges/views.py","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":0,"column":35},"action":"remove","lines":["from django.shortcuts import render"],"id":2},{"start":{"row":0,"column":0},"end":{"row":8,"column":41},"action":"insert","lines":["from django.shortcuts import render, redirect, get_object_or_404","from django.contrib.auth.decorators import login_required","from django.contrib import messages","from django.db.models import Q","from .models import Exchange, ExchangeRequest, Post, Like","import datetime as dt","from datetime import datetime","from .forms import SubmitExchangeRequestExchangingOfficerForm, SubmitExchangeRequestReplacingOfficerForm, SubmitExchangeRequestExchangingOfficerCheckForm, PostForm, CancelExchangeRequestForm","from clocking.models import Roster, Shift"]}],[{"start":{"row":11,"column":0},"end":{"row":17,"column":107},"action":"insert","lines":["@login_required()","def exchanges_page(request):","    user = request.user","    todays_date = dt.date.today()","    exchanges = Exchange.objects.filter(Q(exchanging_officer=user) | Q(replacing_officer=user)).filter(Q(exchange_date__gte=todays_date) | Q(replacement_date__gte=todays_date))","    len_exchanges = len(exchanges)","    return render(request, \"exchanges_page.html\", {'exchanges': exchanges, 'len_exchanges': len_exchanges})"],"id":3}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":17,"column":107},"end":{"row":17,"column":107},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1605951833652,"hash":"48d57a04f2631df8ce3da697652058c4732c8fa3"}