{"filter":false,"title":"custom_js.js","tooltip":"/static/js/custom_js.js","undoManager":{"mark":56,"position":56,"stack":[[{"start":{"row":3,"column":12},"end":{"row":3,"column":13},"action":"insert","lines":["/"],"id":2},{"start":{"row":3,"column":13},"end":{"row":3,"column":14},"action":"insert","lines":["/"]}],[{"start":{"row":38,"column":8},"end":{"row":38,"column":9},"action":"insert","lines":["/"],"id":3},{"start":{"row":38,"column":9},"end":{"row":38,"column":10},"action":"insert","lines":["/"]}],[{"start":{"row":41,"column":1},"end":{"row":42,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":42,"column":0},"end":{"row":43,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":43,"column":0},"end":{"row":47,"column":5},"action":"insert","lines":["let options = {","      enableHighAccuracy: true,","      timeout: 10000,","      maximumAge: 300000","    }"],"id":5}],[{"start":{"row":47,"column":5},"end":{"row":48,"column":0},"action":"insert","lines":["",""],"id":6},{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"insert","lines":["    "]},{"start":{"row":48,"column":4},"end":{"row":49,"column":0},"action":"insert","lines":["",""]},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"remove","lines":["    "],"id":7}],[{"start":{"row":49,"column":0},"end":{"row":55,"column":5},"action":"insert","lines":["function showLocationOnMap() {","      if (navigator.geolocation) {","          navigator.geolocation.getCurrentPosition(showCurrentLocationOnMap, handleErrors, options);","      } else {","          x.innerHTML(\"Gelocation is not supported by this browser.\")","      }","    }"],"id":8}],[{"start":{"row":50,"column":5},"end":{"row":50,"column":6},"action":"remove","lines":[" "],"id":9},{"start":{"row":50,"column":4},"end":{"row":50,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":51,"column":9},"end":{"row":51,"column":10},"action":"remove","lines":[" "],"id":10},{"start":{"row":51,"column":8},"end":{"row":51,"column":9},"action":"remove","lines":[" "]}],[{"start":{"row":52,"column":5},"end":{"row":52,"column":6},"action":"remove","lines":[" "],"id":11},{"start":{"row":52,"column":4},"end":{"row":52,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":53,"column":9},"end":{"row":53,"column":10},"action":"remove","lines":[" "],"id":12},{"start":{"row":53,"column":8},"end":{"row":53,"column":9},"action":"remove","lines":[" "]}],[{"start":{"row":54,"column":5},"end":{"row":54,"column":6},"action":"remove","lines":[" "],"id":13},{"start":{"row":54,"column":4},"end":{"row":54,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":55,"column":0},"end":{"row":55,"column":4},"action":"remove","lines":["    "],"id":14}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":15},{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":12},"action":"insert","lines":["/*global navigator*/","/*global $*/"],"id":16}],[{"start":{"row":58,"column":1},"end":{"row":59,"column":0},"action":"insert","lines":["",""],"id":17},{"start":{"row":59,"column":0},"end":{"row":60,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":60,"column":0},"end":{"row":75,"column":5},"action":"insert","lines":["function handleErrors(error) {","      switch (error.code) {","        case error.PERMISSION_DENIED:","          alert(\"You must share your position if you wish to clock remotely.\");","          break;","        case error.POSITION_UNAVAILABLE:","          alert(\"Unable to determine your current position.\");","          break;","        case error.TIMEOUT:","          alert(\"The request for geolocation information timed out.\");","          break;","        case error.UNKNOWN_ERROR:","          alert(\"An unknown error occurred. Unable to find your location at this time.\");","          break;","      }","    }"],"id":18}],[{"start":{"row":61,"column":5},"end":{"row":61,"column":6},"action":"remove","lines":[" "],"id":19},{"start":{"row":61,"column":4},"end":{"row":61,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":74,"column":5},"end":{"row":74,"column":6},"action":"remove","lines":[" "],"id":20},{"start":{"row":74,"column":4},"end":{"row":74,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":75,"column":0},"end":{"row":75,"column":4},"action":"remove","lines":["    "],"id":21}],[{"start":{"row":75,"column":1},"end":{"row":76,"column":0},"action":"insert","lines":["",""],"id":22},{"start":{"row":76,"column":0},"end":{"row":77,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":77,"column":0},"end":{"row":86,"column":5},"action":"insert","lines":["function showCurrentLocationOnMap(position) {","      //var crd = position.coords;","      //console.log(\"Here 1\");","      var current_lat = position.coords.latitude;","      //console.log(current_lat)","      var current_lon = position.coords.longitude;","      var coords = current_lat + ', ' + current_lon;","      document.getElementById(id='google_map').setAttribute('src', 'https://maps.google.co.uk?q=' + coords + '&zoom=20&output=embed');","      alert(\"Your position is now on the map.\")","    }"],"id":23}],[{"start":{"row":86,"column":0},"end":{"row":86,"column":4},"action":"remove","lines":["    "],"id":24}],[{"start":{"row":85,"column":5},"end":{"row":85,"column":6},"action":"remove","lines":[" "],"id":25},{"start":{"row":85,"column":4},"end":{"row":85,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":84,"column":5},"end":{"row":84,"column":6},"action":"remove","lines":[" "],"id":26},{"start":{"row":84,"column":4},"end":{"row":84,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":83,"column":5},"end":{"row":83,"column":6},"action":"remove","lines":[" "],"id":27},{"start":{"row":83,"column":4},"end":{"row":83,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":82,"column":5},"end":{"row":82,"column":6},"action":"remove","lines":[" "],"id":28},{"start":{"row":82,"column":4},"end":{"row":82,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":80,"column":5},"end":{"row":80,"column":6},"action":"remove","lines":[" "],"id":29},{"start":{"row":80,"column":4},"end":{"row":80,"column":5},"action":"remove","lines":[" "]},{"start":{"row":80,"column":0},"end":{"row":80,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":80,"column":0},"end":{"row":80,"column":4},"action":"insert","lines":["    "],"id":30}],[{"start":{"row":81,"column":5},"end":{"row":81,"column":6},"action":"remove","lines":[" "],"id":31},{"start":{"row":81,"column":4},"end":{"row":81,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":79,"column":5},"end":{"row":79,"column":6},"action":"remove","lines":[" "],"id":32},{"start":{"row":79,"column":4},"end":{"row":79,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":78,"column":5},"end":{"row":78,"column":6},"action":"remove","lines":[" "],"id":33},{"start":{"row":78,"column":4},"end":{"row":78,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":86,"column":1},"end":{"row":87,"column":0},"action":"insert","lines":["",""],"id":34},{"start":{"row":87,"column":0},"end":{"row":88,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":88,"column":0},"end":{"row":94,"column":5},"action":"insert","lines":["function getLocationToClock() {","      if (navigator.geolocation) {","        navigator.geolocation.getCurrentPosition(clockRemotely);","      } else { ","        x.innerHTML = \"Geolocation is not supported by this browser.\";","      }","    }"],"id":35}],[{"start":{"row":94,"column":0},"end":{"row":94,"column":4},"action":"remove","lines":["    "],"id":36},{"start":{"row":93,"column":7},"end":{"row":94,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":93,"column":7},"end":{"row":95,"column":0},"action":"insert","lines":["","    ",""],"id":37}],[{"start":{"row":94,"column":0},"end":{"row":94,"column":4},"action":"remove","lines":["    "],"id":38}],[{"start":{"row":94,"column":0},"end":{"row":95,"column":0},"action":"remove","lines":["",""],"id":39}],[{"start":{"row":93,"column":4},"end":{"row":93,"column":5},"action":"remove","lines":[" "],"id":40}],[{"start":{"row":93,"column":4},"end":{"row":93,"column":5},"action":"remove","lines":[" "],"id":41}],[{"start":{"row":91,"column":5},"end":{"row":91,"column":6},"action":"remove","lines":[" "],"id":42},{"start":{"row":91,"column":4},"end":{"row":91,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":89,"column":5},"end":{"row":89,"column":6},"action":"remove","lines":[" "],"id":43},{"start":{"row":89,"column":4},"end":{"row":89,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":90,"column":4},"end":{"row":90,"column":8},"action":"remove","lines":["    "],"id":44}],[{"start":{"row":90,"column":4},"end":{"row":90,"column":8},"action":"insert","lines":["    "],"id":45}],[{"start":{"row":94,"column":1},"end":{"row":95,"column":0},"action":"insert","lines":["",""],"id":46},{"start":{"row":95,"column":0},"end":{"row":96,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":96,"column":0},"end":{"row":118,"column":5},"action":"insert","lines":["function clockRemotely(position) {","      var csrf = $(\"input[name=csrfmiddlewaretoken]\").val()","      var latitude = position.coords.latitude;","      var longitude = position.coords.longitude;","      $.ajax({","        url: \"/clockings/get_user_coords/\",","        type: \"POST\",","        dataType: \"json\",","        data : {","          'users_lat': latitude,","          'users_lon': longitude,","          csrfmiddlewaretoken: csrf","        },","        success : function(json) {","          //alert(\"Successfully sent the co-ordinates to Django\");","          console.log(\"Success\");","        },","        error : function(xhr,errmsg,err) {","          //alert(\"Could not send URL to Django. Error: \" + xhr.status + \": \" + xhr.responseText;","          console.log(\"Error \" + xhr.status);","        }","      });","    }"],"id":47}],[{"start":{"row":97,"column":5},"end":{"row":97,"column":6},"action":"remove","lines":[" "],"id":48},{"start":{"row":97,"column":4},"end":{"row":97,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":98,"column":0},"end":{"row":98,"column":4},"action":"remove","lines":["    "],"id":49}],[{"start":{"row":98,"column":0},"end":{"row":98,"column":4},"action":"insert","lines":["    "],"id":50}],[{"start":{"row":98,"column":5},"end":{"row":98,"column":6},"action":"remove","lines":[" "],"id":51},{"start":{"row":98,"column":4},"end":{"row":98,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":99,"column":5},"end":{"row":99,"column":6},"action":"remove","lines":[" "],"id":52},{"start":{"row":99,"column":4},"end":{"row":99,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":100,"column":5},"end":{"row":100,"column":6},"action":"remove","lines":[" "],"id":53},{"start":{"row":100,"column":4},"end":{"row":100,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":109,"column":4},"end":{"row":109,"column":8},"action":"remove","lines":["    "],"id":54}],[{"start":{"row":109,"column":4},"end":{"row":109,"column":8},"action":"insert","lines":["    "],"id":55}],[{"start":{"row":117,"column":5},"end":{"row":117,"column":6},"action":"remove","lines":[" "],"id":56}],[{"start":{"row":118,"column":0},"end":{"row":118,"column":4},"action":"remove","lines":["    "],"id":57}],[{"start":{"row":101,"column":23},"end":{"row":101,"column":24},"action":"remove","lines":["s"],"id":58}]]},"ace":{"folds":[],"scrolltop":1094,"scrollleft":0,"selection":{"start":{"row":101,"column":42},"end":{"row":101,"column":42},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":77,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1617131461485,"hash":"b7e8690779709eecd7043350578cc056dba915c0"}