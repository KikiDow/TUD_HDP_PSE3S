{"filter":false,"title":"models.py","tooltip":"/clocking/models.py","undoManager":{"mark":22,"position":22,"stack":[[{"start":{"row":187,"column":134},"end":{"row":188,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":188,"column":0},"end":{"row":188,"column":8},"action":"insert","lines":["        "]},{"start":{"row":188,"column":8},"end":{"row":189,"column":0},"action":"insert","lines":["",""]},{"start":{"row":189,"column":0},"end":{"row":189,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":189,"column":4},"end":{"row":189,"column":8},"action":"remove","lines":["    "],"id":3},{"start":{"row":189,"column":0},"end":{"row":189,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":189,"column":0},"end":{"row":247,"column":20},"action":"insert","lines":["class RemoteClock(models.Model):","\tremote_clock_officer_id = models.ForeignKey(User,related_name='remote_clock_officer_id', on_delete=models.CASCADE)","\tremote_number_of_clockings = models.IntegerField(default=0)","\t#Remote Clocking In","\tremote_clock_in_address = models.CharField(max_length=2000, blank=True, null=True)","\tremote_clock_in_latitude = models.FloatField(blank=True, null=True)","\tremote_clock_in_longitude = models.FloatField(blank=True, null=True)","\tremote_clocking_in_time = models.DateTimeField(blank=True, null=True)","\t#Remote Lunch Out","\tremote_lunch_out_address = models.CharField(max_length=2000, blank=True, null=True)","\tremote_lunch_out_latitude = models.FloatField(blank=True, null=True)","\tremote_lunch_out_longitude = models.FloatField(blank=True, null=True)","\tremote_lunch_out_time = models.DateTimeField(blank=True, null=True)","\t#Remote Lunch In","\tremote_lunch_in_address = models.CharField(max_length=2000, blank=True, null=True)","\tremote_lunch_in_latitude = models.FloatField(blank=True, null=True)","\tremote_lunch_in_longitude = models.FloatField(blank=True, null=True)","\tremote_lunch_in_time = models.DateTimeField(blank=True, null=True)","\t#Remote Clocking Out","\tremote_clock_out_address = models.CharField(max_length=2000, blank=True, null=True)","\tremote_clock_out_latitude = models.FloatField(blank=True, null=True)","\tremote_clock_out_longitude = models.FloatField(blank=True, null=True)","\tremote_clocking_out_time = models.DateTimeField(blank=True, null=True)","\t","\tremote_clocking_date = models.DateField(blank=True, null=True)","\t","\tdef __str__(self):","\t\treturn f\"User clocked in at {self.remote_clock_in_address} on {self.remote_clocking_date}.\"","\t\t","\tdef updateCorrectRemoteClocking(self, request, lat, lon, address):","\t\tif self.remote_number_of_clockings == 0:","\t\t\tself.remote_clocking_in_time = timezone.now()","\t\t\tself.remote_clock_in_address = address","\t\t\tself.remote_clock_in_latitude = lat","\t\t\tself.remote_clock_in_longitude = lon","\t\t\tmessages.success(request, \"Remote Clock In completed.\")","\t\telif self.remote_number_of_clockings == 1:","\t\t\tself.remote_lunch_out_time = timezone.now()","\t\t\tself.remote_lunch_out_address = address","\t\t\tself.remote_lunch_out_latitude = lat","\t\t\tself.remote_lunch_out_longitude = lon","\t\t\tmessages.success(request, \"Remote Lunch Out Clock completed.\")","\t\telif self.remote_number_of_clockings == 2:","\t\t\tself.remote_lunch_in_time = timezone.now()","\t\t\tself.remote_lunch_in_address = address","\t\t\tself.remote_lunch_in_latitude = lat","\t\t\tself.remote_lunch_in_longitude = lon","\t\t\tmessages.success(request, \"Remote Lunch In Clock completed.\")","\t\telif self.remote_number_of_clockings == 3:","\t\t\tself.remote_clocking_out_time = timezone.now()","\t\t\tself.remote_clock_out_address = address","\t\t\tself.remote_clock_out_latitude = lat","\t\t\tself.remote_clock_out_longitude = lon","\t\t\tmessages.success(request, \"Remote Clock Out completed.\")","\t\telse:","\t\t\tmessages.success(request, \"You have completed all clockings for this date.\")","\t\t\t#self.remote_clock_out_location = ???","\t\tself.remote_number_of_clockings += 1","\t\treturn self.save()"],"id":4}],[{"start":{"row":190,"column":48},"end":{"row":190,"column":49},"action":"remove","lines":["r"],"id":5},{"start":{"row":190,"column":47},"end":{"row":190,"column":48},"action":"remove","lines":["e"]},{"start":{"row":190,"column":46},"end":{"row":190,"column":47},"action":"remove","lines":["s"]},{"start":{"row":190,"column":45},"end":{"row":190,"column":46},"action":"remove","lines":["U"]}],[{"start":{"row":190,"column":45},"end":{"row":190,"column":46},"action":"insert","lines":["A"],"id":6},{"start":{"row":190,"column":46},"end":{"row":190,"column":47},"action":"insert","lines":["c"]},{"start":{"row":190,"column":47},"end":{"row":190,"column":48},"action":"insert","lines":["c"]},{"start":{"row":190,"column":48},"end":{"row":190,"column":49},"action":"insert","lines":["o"]},{"start":{"row":190,"column":49},"end":{"row":190,"column":50},"action":"insert","lines":["u"]},{"start":{"row":190,"column":50},"end":{"row":190,"column":51},"action":"insert","lines":["n"]},{"start":{"row":190,"column":51},"end":{"row":190,"column":52},"action":"insert","lines":["t"]}],[{"start":{"row":220,"column":34},"end":{"row":220,"column":48},"action":"remove","lines":["timezone.now()"],"id":7},{"start":{"row":220,"column":34},"end":{"row":220,"column":55},"action":"insert","lines":["datetime.now().time()"]}],[{"start":{"row":220,"column":55},"end":{"row":220,"column":56},"action":"insert","lines":["."],"id":8},{"start":{"row":220,"column":56},"end":{"row":220,"column":57},"action":"insert","lines":["r"]},{"start":{"row":220,"column":57},"end":{"row":220,"column":58},"action":"insert","lines":["e"]},{"start":{"row":220,"column":58},"end":{"row":220,"column":59},"action":"insert","lines":["p"]},{"start":{"row":220,"column":59},"end":{"row":220,"column":60},"action":"insert","lines":["a"]},{"start":{"row":220,"column":60},"end":{"row":220,"column":61},"action":"insert","lines":["c"]},{"start":{"row":220,"column":61},"end":{"row":220,"column":62},"action":"insert","lines":["e"]}],[{"start":{"row":220,"column":61},"end":{"row":220,"column":62},"action":"remove","lines":["e"],"id":9},{"start":{"row":220,"column":60},"end":{"row":220,"column":61},"action":"remove","lines":["c"]},{"start":{"row":220,"column":59},"end":{"row":220,"column":60},"action":"remove","lines":["a"]}],[{"start":{"row":220,"column":59},"end":{"row":220,"column":60},"action":"insert","lines":["p"],"id":10},{"start":{"row":220,"column":60},"end":{"row":220,"column":61},"action":"insert","lines":["l"]},{"start":{"row":220,"column":61},"end":{"row":220,"column":62},"action":"insert","lines":["a"]},{"start":{"row":220,"column":62},"end":{"row":220,"column":63},"action":"insert","lines":["c"]},{"start":{"row":220,"column":63},"end":{"row":220,"column":64},"action":"insert","lines":["e"]}],[{"start":{"row":220,"column":64},"end":{"row":220,"column":66},"action":"insert","lines":["()"],"id":11}],[{"start":{"row":220,"column":64},"end":{"row":220,"column":66},"action":"remove","lines":["()"],"id":12},{"start":{"row":220,"column":63},"end":{"row":220,"column":64},"action":"remove","lines":["e"]},{"start":{"row":220,"column":62},"end":{"row":220,"column":63},"action":"remove","lines":["c"]},{"start":{"row":220,"column":61},"end":{"row":220,"column":62},"action":"remove","lines":["a"]},{"start":{"row":220,"column":60},"end":{"row":220,"column":61},"action":"remove","lines":["l"]},{"start":{"row":220,"column":59},"end":{"row":220,"column":60},"action":"remove","lines":["p"]}],[{"start":{"row":220,"column":59},"end":{"row":220,"column":60},"action":"insert","lines":["l"],"id":13},{"start":{"row":220,"column":60},"end":{"row":220,"column":61},"action":"insert","lines":["a"]},{"start":{"row":220,"column":61},"end":{"row":220,"column":62},"action":"insert","lines":["v"]},{"start":{"row":220,"column":62},"end":{"row":220,"column":63},"action":"insert","lines":["e"]}],[{"start":{"row":220,"column":62},"end":{"row":220,"column":63},"action":"remove","lines":["e"],"id":14},{"start":{"row":220,"column":61},"end":{"row":220,"column":62},"action":"remove","lines":["v"]}],[{"start":{"row":220,"column":61},"end":{"row":220,"column":62},"action":"insert","lines":["c"],"id":15},{"start":{"row":220,"column":62},"end":{"row":220,"column":63},"action":"insert","lines":["e"]}],[{"start":{"row":220,"column":63},"end":{"row":220,"column":65},"action":"insert","lines":["()"],"id":16}],[{"start":{"row":220,"column":64},"end":{"row":220,"column":77},"action":"insert","lines":["microsecond=0"],"id":17}],[{"start":{"row":226,"column":32},"end":{"row":226,"column":46},"action":"remove","lines":["timezone.now()"],"id":18},{"start":{"row":226,"column":32},"end":{"row":226,"column":76},"action":"insert","lines":["datetime.now().time().replace(microsecond=0)"]}],[{"start":{"row":232,"column":31},"end":{"row":232,"column":45},"action":"remove","lines":["timezone.now()"],"id":19},{"start":{"row":232,"column":31},"end":{"row":232,"column":75},"action":"insert","lines":["datetime.now().time().replace(microsecond=0)"]}],[{"start":{"row":238,"column":35},"end":{"row":238,"column":49},"action":"remove","lines":["timezone.now()"],"id":20},{"start":{"row":238,"column":35},"end":{"row":238,"column":79},"action":"insert","lines":["datetime.now().time().replace(microsecond=0)"]}],[{"start":{"row":196,"column":37},"end":{"row":196,"column":38},"action":"remove","lines":["e"],"id":21},{"start":{"row":196,"column":36},"end":{"row":196,"column":37},"action":"remove","lines":["t"]},{"start":{"row":196,"column":35},"end":{"row":196,"column":36},"action":"remove","lines":["a"]},{"start":{"row":196,"column":34},"end":{"row":196,"column":35},"action":"remove","lines":["D"]}],[{"start":{"row":201,"column":35},"end":{"row":201,"column":36},"action":"remove","lines":["e"],"id":22},{"start":{"row":201,"column":34},"end":{"row":201,"column":35},"action":"remove","lines":["t"]},{"start":{"row":201,"column":33},"end":{"row":201,"column":34},"action":"remove","lines":["a"]},{"start":{"row":201,"column":32},"end":{"row":201,"column":33},"action":"remove","lines":["D"]}],[{"start":{"row":206,"column":34},"end":{"row":206,"column":35},"action":"remove","lines":["e"],"id":23},{"start":{"row":206,"column":33},"end":{"row":206,"column":34},"action":"remove","lines":["t"]},{"start":{"row":206,"column":32},"end":{"row":206,"column":33},"action":"remove","lines":["a"]},{"start":{"row":206,"column":31},"end":{"row":206,"column":32},"action":"remove","lines":["D"]}],[{"start":{"row":211,"column":38},"end":{"row":211,"column":39},"action":"remove","lines":["e"],"id":24},{"start":{"row":211,"column":37},"end":{"row":211,"column":38},"action":"remove","lines":["t"]},{"start":{"row":211,"column":36},"end":{"row":211,"column":37},"action":"remove","lines":["a"]},{"start":{"row":211,"column":35},"end":{"row":211,"column":36},"action":"remove","lines":["D"]}]]},"ace":{"folds":[],"scrolltop":3133,"scrollleft":0,"selection":{"start":{"row":212,"column":1},"end":{"row":212,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":222,"state":"start","mode":"ace/mode/python"}},"timestamp":1617099165925,"hash":"6395c883a083755dd88037893bcdbf21f9ed760a"}