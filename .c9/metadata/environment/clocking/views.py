{"filter":false,"title":"views.py","tooltip":"/clocking/views.py","undoManager":{"mark":7,"position":7,"stack":[[{"start":{"row":581,"column":160},"end":{"row":582,"column":0},"action":"insert","lines":["",""],"id":249},{"start":{"row":582,"column":0},"end":{"row":582,"column":4},"action":"insert","lines":["    "]},{"start":{"row":582,"column":4},"end":{"row":583,"column":0},"action":"insert","lines":["",""]},{"start":{"row":583,"column":0},"end":{"row":583,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":583,"column":0},"end":{"row":583,"column":4},"action":"remove","lines":["    "],"id":250},{"start":{"row":582,"column":4},"end":{"row":583,"column":0},"action":"remove","lines":["",""]},{"start":{"row":582,"column":0},"end":{"row":582,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":582,"column":0},"end":{"row":583,"column":0},"action":"insert","lines":["",""],"id":251}],[{"start":{"row":583,"column":0},"end":{"row":604,"column":98},"action":"insert","lines":["@login_required()","def password_change(request):","    '''","    This view allows a user to change their password.","    '''","    #REFERENCE","    '''","    Freitas, V. (2016). Django Tips #9 How To Create A Change Password View. ","    Retrieved September 6, 2020, from https://simpleisbetterthancomplex.com/tips/2016/08/04/django-tip-9-password-change-form.html","    '''","    if request.method == 'POST':","        password_change_form = PasswordChangeForm(request.user, request.POST)","        if password_change_form.is_valid():","            user = password_change_form.save()","            update_session_auth_hash(request, user)","            messages.success(request, 'Your password was successfully updated!')","            return redirect('home_page')","        else:","            messages.error(request, 'Please correct the error below.')","    else:","        password_change_form = PasswordChangeForm(request.user)","    return render(request, \"change_password.html\", {'password_change_form': password_change_form})"],"id":252}],[{"start":{"row":16,"column":45},"end":{"row":17,"column":0},"action":"insert","lines":["",""],"id":253}],[{"start":{"row":17,"column":0},"end":{"row":19,"column":56},"action":"insert","lines":["#Code for password change","from django.contrib.auth import update_session_auth_hash","from django.contrib.auth.forms import PasswordChangeForm"],"id":254}],[{"start":{"row":602,"column":29},"end":{"row":602,"column":38},"action":"remove","lines":["home_page"],"id":255}],[{"start":{"row":602,"column":29},"end":{"row":602,"column":50},"action":"insert","lines":["view_personal_details"],"id":256}]]},"ace":{"folds":[],"scrolltop":8205,"scrollleft":0,"selection":{"start":{"row":602,"column":50},"end":{"row":602,"column":50},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":585,"state":"start","mode":"ace/mode/python"}},"timestamp":1620377721541,"hash":"a22efd741da1da872631ce5bbd1e8c3ae3b6fc73"}